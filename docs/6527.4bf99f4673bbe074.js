"use strict";(self.webpackChunkSkeletonJWTAngular=self.webpackChunkSkeletonJWTAngular||[]).push([[6527],{6527:(P,T,p)=>{p.r(T),p.d(T,{CategoryModule:()=>z});var s=p(6814),C=p(4581),t=p(3416),x=p(5219),e=p(8926),Z=p(1831),b=p(9232),k=p(707),M=p(3714),D=p(1312),y=p(6223),A=p(3259),I=p(4104),E=p(4480),J=p(6218);function N(l,h){if(1&l){const u=e.EpF();e.TgZ(0,"div",21)(1,"span",22),e._UZ(2,"i",23),e.TgZ(3,"input",24),e.NdJ("input",function(o){e.CHM(u),e.oxw();const g=e.MAs(5);return e.KtG(g.filterGlobal(o.target,"contains"))}),e.qZA()()()}}function O(l,h){if(1&l){const u=e.EpF();e.TgZ(0,"div",21)(1,"p-button",25),e.NdJ("click",function(){e.CHM(u);const o=e.oxw();return e.KtG(o.openNew())}),e.qZA(),e.TgZ(2,"p-button",26),e.NdJ("click",function(){e.CHM(u);const o=e.oxw(),g=e.MAs(5);return e.KtG(o.clear(g))}),e.qZA(),e.TgZ(3,"p-button",27),e.NdJ("onClick",function(){e.CHM(u);const o=e.oxw();return e.KtG(o.exportToExcel())}),e.qZA(),e.TgZ(4,"span",22),e._UZ(5,"i",23),e.TgZ(6,"input",24),e.NdJ("input",function(o){e.CHM(u),e.oxw();const g=e.MAs(5);return e.KtG(g.filterGlobal(o.target,"contains"))}),e.qZA()()()}}function F(l,h){1&l&&(e.TgZ(0,"tr")(1,"th",28),e._uU(2,"Description"),e._UZ(3,"p-sortIcon",29),e.qZA(),e.TgZ(4,"th",30),e._uU(5,"Detail Description"),e._UZ(6,"p-sortIcon",31),e.qZA(),e._UZ(7,"th",32),e.qZA())}function U(l,h){if(1&l){const u=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",21)(7,"p-button",33),e.NdJ("onClick",function(){const g=e.CHM(u).$implicit,_=e.oxw();return e.KtG(_.edit(g))}),e.qZA(),e.TgZ(8,"p-button",34),e.NdJ("onClick",function(){const g=e.CHM(u).$implicit,_=e.oxw();return e.KtG(_.delete(g))}),e.qZA()()()()}if(2&l){const u=h.$implicit;e.xp6(2),e.Oqu(u.description),e.xp6(2),e.Oqu(u.detailDescription)}}function R(l,h){1&l&&(e.TgZ(0,"small",35),e._uU(1,"Description is required."),e.qZA())}function w(l,h){1&l&&(e.TgZ(0,"small",35),e._uU(1,"Detail Description is required."),e.qZA())}function S(l,h){if(1&l){const u=e.EpF();e.TgZ(0,"p-button",36),e.NdJ("onClick",function(){e.CHM(u);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"p-button",37),e.NdJ("onClick",function(){e.CHM(u);const o=e.oxw();return e.KtG(o.save())}),e.qZA()}}function a(l,h){1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete?"),e.qZA())}function d(l,h){if(1&l){const u=e.EpF();e.TgZ(0,"p-button",38),e.NdJ("click",function(){e.CHM(u);const o=e.oxw();return e.KtG(o.confirmDialog=!1)}),e.qZA(),e.TgZ(1,"p-button",39),e.NdJ("click",function(){e.CHM(u);const o=e.oxw();return e.KtG(o.confirmDelete())}),e.qZA()}}const c=function(){return{"min-width":"50rem"}},r=function(){return["description","detailDescription"]},i=function(){return[5,10,25,50]},m=function(){return{width:"450px"}},f=function(){return{"960px":"75vw","640px":"98vw"}},v=function(l){return{"ng-invalid ng-dirty":l}},K=[{path:"",component:(()=>{var l;class h extends t.k{constructor(n,o,g){super(o),this.httpHelperService=n,this.messageService=o,this.router=g,this.modelList=[],this.totalRecords=0,this.today=new Date,this.selectedModel={},this.submitted=!1,this.loading=!1,this.showDialog=!1,this.confirmDialog=!1,this.sortField=null,this.sortOrder=1}clear(n){n.globalFilter=null,this.loadData(n)}loadData(n){this.loading=!0;let o="%";n&&null!=n.globalFilter&&""!=n.globalFilter.value&&(o=n.globalFilter.value);const g=n.first/n.rows;!n.sortField&&this.sortField?(n.sortField=this.sortField,n.sortOrder=this.sortOrder):n.sortField&&(this.sortField=n.sortField,this.sortOrder=n.sortOrder),this.httpHelperService.get("/api/admin/category",g,n.rows,n.sortField,n.sortOrder,o).subscribe({next:_=>{this.modelList=_,this.totalRecords=this.modelList[0].totalRecords},error:_=>{this.loading=!1,super.processError(_)},complete:()=>{this.loading=!1}})}save(){this.submitted=!0,this.httpHelperService.save("/api/admin/category",String(this.selectedModel.id),this.selectedModel).subscribe({next:n=>{},error:n=>{this.submitted=!1,super.processError(n)},complete:()=>{this.submitted=!1,this.showDialog=!1,super.showSuccess("Update/Add successfull"),this.clear({first:0,rows:5,sortOrder:1})}})}delete(n){this.confirmDialog=!0,this.selectedModel={...n}}confirmDelete(){this.httpHelperService.delete("/api/admin/category",String(this.selectedModel.id)).subscribe({next:n=>{},error:n=>{console.log(n),super.showError(n.message)},complete:()=>{this.confirmDialog=!1,this.selectedModel={},super.showSuccess("Update/Add successfull"),this.clear({first:0,rows:5,sortOrder:1})}})}openNew(){this.selectedModel={},this.showDialog=!0}hideDialog(){this.showDialog=!1,this.submitted=!1}edit(n){this.selectedModel={...n},this.showDialog=!0}exportToExcel(){super.exportExcel(this.modelList)}}return(l=h).\u0275fac=function(n){return new(n||l)(e.Y36(Z.x),e.Y36(x.ez),e.Y36(C.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-category"]],features:[e._Bn([x.ez]),e.qOj],decls:28,vars:39,consts:[[1,"grid"],[1,"col-12","lg:col-12"],[1,"card"],["dataKey","id","selectionMode","single","styleClass","p-datatable-sm","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","lazy","tableStyle","paginator","rows","totalRecords","loading","globalFilterFields","selection","showCurrentPageReport","rowsPerPageOptions","onLazyLoad","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Add/Update","position","center",1,"p-fluid",3,"visible","modal","draggable","breakpoints","visibleChange"],[1,"formgrid","grid"],[1,"field","col-12"],["for","description"],["type","text","pInputText","","id","description","required","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","detailDescription"],["rows","5","cols","30","pInputTextarea","","id","detailDescription","required","",3,"autoResize","ngModel","ngClass","ngModelChange"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pRipple","","label","Add","icon","pi pi-plus","styleClass","p-button-outlined",1,"pr-2",3,"click"],["label","Clear","styleClass","p-button-outlined","icon","pi pi-filter-slash",1,"pr-2",3,"click"],["label","Export","pRipple","","icon","pi pi-file-excel","styleClass","p-button-outlined mr-2","pTooltip","Export to Excel","tooltipPosition","bottom",3,"onClick"],["pSortableColumn","description"],["field","description"],["pSortableColumn","detailDescription"],["field","detailDescription"],[2,"width","100px"],["pRipple","","icon","pi pi-pencil","styleClass","p-button-rounded p-button-success p-button-outlined mr-2","tooltipPosition","left","pTooltip","Update",3,"onClick"],["pRipple","","icon","pi pi-trash","styleClass","p-button-rounded p-button-outlined p-button-danger","tooltipPosition","left","pTooltip","Delete",3,"onClick"],[1,"ng-dirty","ng-invalid"],["pRipple","","label","Cancel","icon","pi pi-times","styleClass","p-button-link",3,"onClick"],["pRipple","","label","Save","icon","pi pi-check","styleClass","p-button-link",3,"onClick"],["pRipple","","icon","pi pi-times","styleClass","p-button-text","label","No",3,"click"],["pRipple","","icon","pi pi-check","styleClass","p-button-text","label","Yes",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-table",3,4),e.NdJ("onLazyLoad",function(_){return o.loadData(_)})("selectionChange",function(_){return o.selectedModel=_}),e.YNc(6,N,4,0,"ng-template",5),e.YNc(7,O,7,0,"ng-template",5),e.YNc(8,F,8,0,"ng-template",6),e.YNc(9,U,9,2,"ng-template",7),e.qZA()()()(),e.TgZ(10,"p-dialog",8),e.NdJ("visibleChange",function(_){return o.showDialog=_}),e.TgZ(11,"div",9)(12,"div",10)(13,"label",11),e._uU(14,"Description"),e.qZA(),e.TgZ(15,"input",12),e.NdJ("ngModelChange",function(_){return o.selectedModel.description=_}),e.qZA(),e.YNc(16,R,2,0,"small",13),e.qZA(),e.TgZ(17,"div",10)(18,"label",14),e._uU(19,"Detail Description"),e.qZA(),e.TgZ(20,"textarea",15),e.NdJ("ngModelChange",function(_){return o.selectedModel.detailDescription=_}),e.qZA(),e.YNc(21,w,2,0,"small",13),e.qZA()(),e.YNc(22,S,2,0,"ng-template",16),e.qZA(),e.TgZ(23,"p-dialog",17),e.NdJ("visibleChange",function(_){return o.confirmDialog=_}),e.TgZ(24,"div",18),e._UZ(25,"i",19),e.YNc(26,a,2,0,"span",20),e.qZA(),e.YNc(27,d,2,0,"ng-template",16),e.qZA()),2&n&&(e.xp6(4),e.Q6J("value",o.modelList)("lazy",!0)("tableStyle",e.DdM(29,c))("paginator",!0)("rows",5)("totalRecords",o.totalRecords)("loading",o.loading)("globalFilterFields",e.DdM(30,r))("selection",o.selectedModel)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(31,i)),e.xp6(6),e.Akn(e.DdM(32,m)),e.Q6J("visible",o.showDialog)("modal",!0)("draggable",!1)("breakpoints",e.DdM(33,f)),e.xp6(5),e.Q6J("ngModel",o.selectedModel.description)("ngClass",e.VKq(34,v,o.submitted&&!o.selectedModel.description)),e.xp6(1),e.Q6J("ngIf",o.submitted&&!o.selectedModel.description),e.xp6(4),e.Q6J("autoResize",!0)("ngModel",o.selectedModel.detailDescription)("ngClass",e.VKq(36,v,o.submitted&&!o.selectedModel.detailDescription)),e.xp6(1),e.Q6J("ngIf",o.submitted&&!o.selectedModel.detailDescription),e.xp6(2),e.Akn(e.DdM(38,m)),e.Q6J("visible",o.confirmDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",o.selectedModel))},dependencies:[b.iA,x.jx,b.lQ,b.fz,k.zx,M.o,D.V,y.Fj,y.JJ,y.Q7,y.On,A.u,I.FN,E.H,s.mk,s.O5,J.g],styles:[".table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),h})()}];let B=(()=>{var l;class h{}return(l=h).\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[C.Bz.forChild(K),C.Bz]}),h})();var L=p(9502),Y=p(6760),H=p(218),V=p(5167),q=p(8057),G=p(3965);let z=(()=>{var l;class h{}return(l=h).\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[b.U$,k.hJ,M.j,D.S,L.$,L.$,y.u5,Y._8,A.z,I.EV,E.T,H.E,V.L$,q.nD,G.kW,s.ez,J.A,B]}),h})()},8057:(P,T,p)=>{p.d(T,{XZ:()=>w,nD:()=>S});var s=p(6656),C=p(6814),t=p(8926),x=p(6223),e=p(2332),Z=p(5219),b=p(2591);const k=["cb"];function M(a,d){if(1&a&&t._UZ(0,"span",10),2&a){const c=t.oxw(3);t.Q6J("ngClass",c.checkboxIcon)}}function D(a,d){1&a&&t._UZ(0,"CheckIcon",11),2&a&&t.Q6J("styleClass","p-checkbox-icon")}function y(a,d){if(1&a&&(t.ynx(0),t.YNc(1,M,1,1,"span",8),t.YNc(2,D,1,1,"CheckIcon",9),t.BQk()),2&a){const c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",c.checkboxIcon),t.xp6(1),t.Q6J("ngIf",!c.checkboxIcon)}}function A(a,d){}function I(a,d){1&a&&t.YNc(0,A,0,0,"ng-template")}function E(a,d){if(1&a&&(t.TgZ(0,"span",12),t.YNc(1,I,1,0,null,13),t.qZA()),2&a){const c=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",c.checkboxIconTemplate)}}function J(a,d){if(1&a&&(t.ynx(0),t.YNc(1,y,3,2,"ng-container",5),t.YNc(2,E,2,1,"span",7),t.BQk()),2&a){const c=t.oxw();t.xp6(1),t.Q6J("ngIf",!c.checkboxIconTemplate),t.xp6(1),t.Q6J("ngIf",c.checkboxIconTemplate)}}const N=function(a,d,c){return{"p-checkbox-label":!0,"p-checkbox-label-active":a,"p-disabled":d,"p-checkbox-label-focus":c}};function O(a,d){if(1&a){const c=t.EpF();t.TgZ(0,"label",14),t.NdJ("click",function(i){t.CHM(c);const m=t.oxw(),f=t.MAs(3);return t.KtG(m.onClick(i,f,!0))}),t._uU(1),t.qZA()}if(2&a){const c=t.oxw();t.Tol(c.labelStyleClass),t.Q6J("ngClass",t.kEZ(5,N,c.checked(),c.disabled,c.focused)),t.uIk("for",c.inputId),t.xp6(1),t.Oqu(c.label)}}const F=function(a,d,c){return{"p-checkbox p-component":!0,"p-checkbox-checked":a,"p-checkbox-disabled":d,"p-checkbox-focused":c}},U=function(a,d,c){return{"p-highlight":a,"p-disabled":d,"p-focus":c}},R={provide:x.JU,useExisting:(0,t.Gpc)(()=>w),multi:!0};let w=(()=>{var a;class d{constructor(r){(0,s.Z)(this,"cd",void 0),(0,s.Z)(this,"value",void 0),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"disabled",void 0),(0,s.Z)(this,"binary",void 0),(0,s.Z)(this,"label",void 0),(0,s.Z)(this,"ariaLabelledBy",void 0),(0,s.Z)(this,"ariaLabel",void 0),(0,s.Z)(this,"tabindex",void 0),(0,s.Z)(this,"inputId",void 0),(0,s.Z)(this,"style",void 0),(0,s.Z)(this,"styleClass",void 0),(0,s.Z)(this,"labelStyleClass",void 0),(0,s.Z)(this,"formControl",void 0),(0,s.Z)(this,"checkboxIcon",void 0),(0,s.Z)(this,"readonly",void 0),(0,s.Z)(this,"required",void 0),(0,s.Z)(this,"trueValue",!0),(0,s.Z)(this,"falseValue",!1),(0,s.Z)(this,"onChange",new t.vpe),(0,s.Z)(this,"inputViewChild",void 0),(0,s.Z)(this,"templates",void 0),(0,s.Z)(this,"checkboxIconTemplate",void 0),(0,s.Z)(this,"model",void 0),(0,s.Z)(this,"onModelChange",()=>{}),(0,s.Z)(this,"onModelTouched",()=>{}),(0,s.Z)(this,"focused",!1),this.cd=r}ngAfterContentInit(){this.templates.forEach(r=>{"icon"===r.getType()&&(this.checkboxIconTemplate=r.template)})}onClick(r,i,m){r.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(r),m&&i.focus())}updateModel(r){let i;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(i=this.checked()?this.model.filter(m=>!e.gb.equals(m,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:r})}handleChange(r){this.readonly||this.updateModel(r)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild?.nativeElement.focus()}writeValue(r){this.model=r,this.cd.markForCheck()}registerOnChange(r){this.onModelChange=r}registerOnTouched(r){this.onModelTouched=r}setDisabledState(r){this.disabled=r,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:e.gb.contains(this.value,this.model)}}return a=d,(0,s.Z)(d,"\u0275fac",function(r){return new(r||a)(t.Y36(t.sBO))}),(0,s.Z)(d,"\u0275cmp",t.Xpm({type:a,selectors:[["p-checkbox"]],contentQueries:function(r,i,m){if(1&r&&t.Suo(m,Z.jx,4),2&r){let f;t.iGM(f=t.CRH())&&(i.templates=f)}},viewQuery:function(r,i){if(1&r&&t.Gf(k,5),2&r){let m;t.iGM(m=t.CRH())&&(i.inputViewChild=m.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[t._Bn([R])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(r,i){if(1&r){const m=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),t.NdJ("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("change",function(v){return i.handleChange(v)}),t.qZA()(),t.TgZ(4,"div",4),t.NdJ("click",function(v){t.CHM(m);const Q=t.MAs(3);return t.KtG(i.onClick(v,Q,!0))}),t.YNc(5,J,3,2,"ng-container",5),t.qZA()(),t.YNc(6,O,2,9,"label",6)}2&r&&(t.Tol(i.styleClass),t.Q6J("ngStyle",i.style)("ngClass",t.kEZ(18,F,i.checked(),i.disabled,i.focused)),t.xp6(2),t.Q6J("readonly",i.readonly)("value",i.value)("checked",i.checked())("disabled",i.disabled),t.uIk("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-checked",i.checked())("required",i.required),t.xp6(2),t.Q6J("ngClass",t.kEZ(22,U,i.checked(),i.disabled,i.focused)),t.xp6(1),t.Q6J("ngIf",i.checked()),t.xp6(1),t.Q6J("ngIf",i.label))},dependencies:function(){return[C.mk,C.O5,C.tP,C.PC,b.n]},styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0})),d})(),S=(()=>{var a;class d{}return a=d,(0,s.Z)(d,"\u0275fac",function(r){return new(r||a)}),(0,s.Z)(d,"\u0275mod",t.oAB({type:a})),(0,s.Z)(d,"\u0275inj",t.cJS({imports:[C.ez,b.n,Z.m8]})),d})()}}]);