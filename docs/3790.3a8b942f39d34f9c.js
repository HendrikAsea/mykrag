"use strict";(self.webpackChunkSkeletonJWTAngular=self.webpackChunkSkeletonJWTAngular||[]).push([[3790],{3790:(N,C,o)=>{o.r(C),o.d(C,{VerifyEmailModule:()=>F});var c=o(6814),_=o(4104),v=o(9502),e=o(4581),Z=o(3416),g=o(6223),x=o(5219),s=o(8926),b=o(3859),M=o(1831),T=o(707),I=o(4480),B=o(1111),S=o(3714),h=o(6656),y=o(2076);const k={provide:g.Cf,useExisting:(0,s.Gpc)(()=>D),multi:!0},P={pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},A={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};let D=(()=>{var p;class u{set pattern(n){this._pattern=n,this.regex=P[this._pattern]||this._pattern}get pattern(){return this._pattern}constructor(n,i,t){(0,h.Z)(this,"document",void 0),(0,h.Z)(this,"platformId",void 0),(0,h.Z)(this,"el",void 0),(0,h.Z)(this,"pValidateOnly",void 0),(0,h.Z)(this,"ngModelChange",new s.vpe),(0,h.Z)(this,"regex",void 0),(0,h.Z)(this,"_pattern",void 0),(0,h.Z)(this,"isAndroid",void 0),(0,h.Z)(this,"lastValue",void 0),this.document=n,this.platformId=i,this.el=t,this.isAndroid=!!(0,c.NF)(this.platformId)&&y.p.isAndroid()}isNavKeyPress(n){let i=n.keyCode;return i=y.p.getBrowser().safari&&A[i]||i,i>=33&&i<=40||13==i||9==i||27==i}isSpecialKey(n){let i=n.keyCode||n.charCode;return 9==i||13==i||27==i||16==i||17==i||i>=18&&i<=20||y.p.getBrowser().opera&&!n.shiftKey&&(8==i||i>=33&&i<=35||i>=36&&i<=39||i>=44&&i<=45)}getKey(n){let i=n.keyCode||n.charCode;return y.p.getBrowser().safari&&A[i]||i}getCharCode(n){return n.charCode||n.keyCode||n.which}findDelta(n,i){let t="";for(let a=0;a<n.length;a++)n.substr(0,a)+n.substr(a+n.length-i.length)===i&&(t=n.substr(a,n.length-i.length));return t}isValidChar(n){return this.regex.test(n)}isValidString(n){for(let i=0;i<n.length;i++)if(!this.isValidChar(n.substr(i,1)))return!1;return!0}onInput(n){if(this.isAndroid&&!this.pValidateOnly){let i=this.el.nativeElement.value,t=this.lastValue||"",a=this.findDelta(i,t),l=this.findDelta(t,i);a.length>1||!a&&!l?this.isValidString(i)||(this.el.nativeElement.value=t,this.ngModelChange.emit(t)):l||this.isValidChar(a)||(this.el.nativeElement.value=t,this.ngModelChange.emit(t)),i=this.el.nativeElement.value,this.isValidString(i)&&(this.lastValue=i)}}onKeyPress(n){if(this.isAndroid||this.pValidateOnly)return;let i=y.p.getBrowser(),t=this.getKey(n);if(i.mozilla&&(n.ctrlKey||n.altKey))return;if(17==t||18==t)return;let a=this.getCharCode(n),l=String.fromCharCode(a),r=!0;!i.mozilla&&(this.isSpecialKey(n)||!l)||(r=this.regex.test(l),r||n.preventDefault())}onPaste(n){const i=n.clipboardData||this.document.defaultView.clipboardData.getData("text");if(i){const t=i.getData("text");for(let a of t.toString())if(!this.regex.test(a))return void n.preventDefault()}}validate(n){if(this.pValidateOnly){let i=this.el.nativeElement.value;if(i&&!this.regex.test(i))return{validatePattern:!1}}}}return p=u,(0,h.Z)(u,"\u0275fac",function(n){return new(n||p)(s.Y36(c.K0),s.Y36(s.Lbi),s.Y36(s.SBq))}),(0,h.Z)(u,"\u0275dir",s.lG2({type:p,selectors:[["","pKeyFilter",""]],hostAttrs:[1,"p-element"],hostBindings:function(n,i){1&n&&s.NdJ("input",function(a){return i.onInput(a)})("keypress",function(a){return i.onKeyPress(a)})("paste",function(a){return i.onPaste(a)})},inputs:{pValidateOnly:"pValidateOnly",pattern:["pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[s._Bn([k])]})),u})(),J=(()=>{var p;class u{}return p=u,(0,h.Z)(u,"\u0275fac",function(n){return new(n||p)}),(0,h.Z)(u,"\u0275mod",s.oAB({type:p})),(0,h.Z)(u,"\u0275inj",s.cJS({imports:[c.ez]})),u})();const O=function(){return["/"]},K=[{path:"",component:(()=>{var p;class u extends Z.k{constructor(n,i,t,a,l,r){super(a),this.layoutService=n,this.fb=i,this.httpHelperService=t,this.messageService=a,this.router=l,this.route=r,this.submitted=!1,this.guid="",this.user={},this.email="",this.messages=[],this.verifyForm=this.fb.group({val1:["",g.kI.required],val2:["",g.kI.required],val3:["",g.kI.required],val4:["",g.kI.required]})}ngOnInit(){localStorage.getItem("guid")&&(this.guid=localStorage.getItem("guid")),this.route.queryParams.subscribe(n=>{!this.guid&&n.guid&&(this.guid=n.guid),this.guid?this.fetchUser():this.messages=[{severity:"error",summary:"Missing information or invalid link.",detail:"Concat support please."}]})}obscure_email(n){for(var i=n.split("@"),t=i[0],a=t.charAt(0),l=1;l<t.length;l++)a+="*";a+=t.charAt(t.length-1),a+="@";var r=i[1];a+=r.charAt(0);var m=r.indexOf(".");for(l=1;l<m;l++)a+="*";return a+r.substring(m)}fetchUser(){this.httpHelperService.getWithParmNoSecurity("/api/authenticate/findByGuid",this.guid).subscribe({next:n=>{this.user=n,this.user.email&&(this.email=this.obscure_email(this.user.email))},error:n=>{super.processError(n)},complete:()=>{console.log("complete")}})}get f(){return this.verifyForm.controls}verifyEmail(){this.submitted=!0,this.verifyForm.invalid?super.showError("Please enter the verification code."):this.verifyEmailCall()}verifyEmailCall(){let n=this.verifyForm.get("val1").value+this.verifyForm.get("val2").value+this.verifyForm.get("val3").value+this.verifyForm.get("val4").value;this.httpHelperService.getWithParmNoSecurity("/api/authenticate/verify",this.guid+"/"+n).subscribe({next:i=>{},error:i=>{console.log(i),super.processError(i)},complete:()=>{super.showSuccess("Verification successful. Please login."),setTimeout(()=>{this.router.navigate(["/login"])},3e3),this.submitted=!1}})}get dark(){return"light"!==this.layoutService.config.colorScheme}onDigitInput(n){let i;"Backspace"!==n.code&&(n.code.includes("Numpad")||n.code.includes("Digit"))&&(i=n.srcElement.nextElementSibling),"Backspace"===n.code&&(i=n.srcElement.previousElementSibling),i?.focus()}}return(p=u).\u0275fac=function(n){return new(n||p)(s.Y36(b.P),s.Y36(g.qu),s.Y36(M.x),s.Y36(x.ez),s.Y36(e.F0),s.Y36(e.gz))},p.\u0275cmp=s.Xpm({type:p,selectors:[["app-verify-email"]],features:[s._Bn([x.ez]),s.qOj],decls:42,vars:10,consts:[[1,"surface-bg","reg"],[1,"flex","align-items-center","justify-content-between","flex-column","h-screen"],[1,"flex","flex-column","align-items-center","justify-content-center","w-full","md:max-w-max","m-auto","text-center","p-4","surface-0","shadow-4"],[1,"mb-3",3,"routerLink"],["enable-background","new 0 0 100 27.1","height","80","viewBox","0 0 100 27.1","width","300","xmlns","http://www.w3.org/2000/svg"],["clip-rule","evenodd","cx","9.4","cy","2.5","fill","#00733b","fill-rule","evenodd","rx","2.6","ry","2.5"],["clip-rule","evenodd","cx","17.5","cy","2.5","fill","#00733b","fill-rule","evenodd","rx","2.6","ry","2.5"],["clip-rule","evenodd","d","m6 18.7 3.3 8.4 3.4-8.4-3.4-6.5z","fill","#00733b","fill-rule","evenodd"],["clip-rule","evenodd","d","m17.5 12.2-3.4 6.5 3.4 8.4 3.4-8.4z","fill","#00733b","fill-rule","evenodd"],["clip-rule","evenodd","d","m0 17.7 5.9-12h6.7l.8 1.2.7-1.2h6.8l5.9 12h-5.3l-4.1-8-4 8-4.1-8-4 8z","fill","#f48120","fill-rule","evenodd"],["fill","#00733b"],["d","m33.8 9.9h3.4l2.7 6.8c.1.3.3.6.6.9h-3.9c.1-.2.2-.3.2-.5s-.1-.5-.2-.8l-.4-.8h-3.2l-.5 1.1c-.1.2-.1.4-.1.5s0 .3.1.5h-2.2c.3-.4.6-.9.9-1.5l2.7-5.8c.2-.1.1-.2-.1-.4zm2 4.4-1-2.4-1.1 2.4z"],["d","m45.8 11.9v1.1h-1.9v2.1 1.8c0 .3.1.5.2.7h-3.3c.1-.2.2-.3.2-.5s0-.5 0-.9v-3.2h-.8v-1.1h.8v-.4c0-1.1.7-1.6 2.1-1.6h3.1l.2 1.3c-.2-.1-.3-.2-.4-.2s-.2 0-.5 0h-1.2c-.2 0-.4 0-.4.1-.1.1-.1.2-.1.4v.4z"],["d","m49.1 11.9.1.9c.1-.2.1-.4.2-.5s.2-.2.3-.3c.2-.1.5-.2.9-.2h1.4v1.9c-.1-.1-.3-.2-.4-.3-.2 0-.4-.1-.7-.1h-.6c-.3 0-.5.1-.7.2s-.2.4-.2.6v1.9.9c0 .2.1.3.2.5h-3.3c.1-.2.2-.4.2-.5 0-.2 0-.5 0-.9v-2.8c0-.4 0-.7 0-.9s-.1-.3-.2-.5h2.8z"],["d","m55.4 11.9v4.3.9c0 .2.1.3.2.5h-3.3c.1-.2.2-.4.2-.5 0-.2 0-.5 0-.9v-2.8c0-.4 0-.7 0-.9s-.1-.3-.2-.5h3.1zm0-2v1.4h-2.8v-1.4z"],["d","m59.7 11.2v1.9h2.6c.3 0 .7-.1 1-.2v1.7c-.2-.1-.4-.2-.5-.2-.2 0-.4 0-.7 0h-2.3v2.2c0 .5.1.9.3 1.1h-3.6c.2-.3.3-.6.3-1.1v-5.4c0-.5-.1-.9-.3-1.1h6.7l.2 1.5c-.2-.1-.4-.1-.5-.2s-.5 0-1.1 0h-2.1z"],["d","m65.9 11.9h3.7c.5 0 .8 0 1 .1s.4.2.6.3c.2.2.3.3.4.6.1.2.1.5.1.8v2.3c0 1.1-.6 1.7-1.9 1.6h-3.6c-.5 0-.9 0-1.1-.1-.2 0-.4-.2-.6-.3-.3-.3-.5-.7-.5-1.3v-2.4c0-.6.2-1 .7-1.3.2-.1.3-.2.5-.2 0 0 .3-.1.7-.1zm.8 1.8v2.2c0 .3 0 .4.1.5s.3.1.5.1h.8c.2 0 .4-.1.5-.2s.1-.3.1-.6v-2.1c0-.3-.1-.5-.2-.6s-.3-.2-.6-.2h-.7c-.3.2-.5.4-.5.9z"],["d","m75.2 11.9.1.9c.1-.2.1-.4.2-.5s.2-.2.3-.3c.2-.1.5-.2.9-.2h1.4v1.9c-.1-.1-.3-.2-.4-.3-.2 0-.4-.1-.7-.1h-.6c-.3 0-.5.1-.7.2s-.2.4-.2.6v1.9.9c0 .2.1.3.2.5h-3.3c.1-.2.2-.4.2-.5 0-.2 0-.5 0-.9v-2.8c0-.4 0-.7 0-.9s-.1-.3-.2-.5h2.8z"],["d","m86.3 11.9v4.3.9c0 .2.1.3.2.5h-2.6l-.1-.5c-.1.2-.2.4-.3.4s-.4.1-.7.1h-2.2c-.4 0-.7 0-.9-.1s-.4-.2-.5-.3c-.2-.2-.3-.3-.3-.5s-.1-.5-.1-1v-2.3c0-.4 0-.7 0-.9s-.1-.3-.2-.5h3v3.9c0 .5.2.8.6.8h.7c.3 0 .5 0 .6-.1s.1-.3.1-.6v-2.5c0-.4 0-.7 0-.9s-.1-.3-.2-.5h2.9z"],["d","m90.2 11.9.1.6c.1-.2.1-.4.2-.4.1-.1.3-.1.5-.1h2.9c.4 0 .6 0 .8.1.1.1.2.2.3.5.1-.2.1-.4.2-.4.1-.1.3-.1.5-.1h2.3c.4 0 .7 0 .8.1.2.1.4.2.5.4.2.2.3.4.3.6.1.2.1.6.1 1v2.2 1s.1.2.2.4h-3.2c.1-.2.2-.4.2-.5 0-.2 0-.5 0-.9v-2.5c0-.3 0-.5-.1-.6s-.2-.1-.5-.1h-.7c-.3 0-.4 0-.5.1s-.1.3-.1.5v2.5.9c0 .2.1.3.2.5h-3.3c.1-.2.2-.4.2-.5 0-.2 0-.5 0-.9v-2.5c0-.3 0-.5-.1-.6.1-.1 0-.2-.2-.2h-.9c-.2 0-.4 0-.4.1-.1.1-.1.3-.1.5v2.5.9c0 .2.1.3.2.5h-3.3c.1-.2.2-.4.2-.5 0-.2 0-.5 0-.9v-2.8c0-.4 0-.7 0-.9s-.1-.3-.2-.5z"],[1,"mb-4"],[1,"text-900","text-xl","font-bold","mb-2"],[1,"text-600","font-medium"],[1,"flex","align-items-center","mt-1"],[1,"pi","pi-envelope","text-600"],[1,"text-900","font-bold","ml-2"],["styleClass","w-full md:w-25rem p-message-neat",3,"value","enableService","closable","valueChange"],[1,"flex","flex-column"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"flex","justify-content-between","w-full","align-items-center","mb-4","gap-3"],["pInputText","","id","integer0","pKeyFilter","int","formControlName","val1","maxlength","1",1,"w-3rem","text-center","text-color-secondary","surface-50","border-200","ng-dirty","ng-invalid",3,"keyup"],["pInputText","","id","integer1","pKeyFilter","int","formControlName","val2","maxlength","1",1,"w-3rem","text-center","text-color-secondary","surface-50","border-200",3,"keyup"],["pInputText","","id","integer2","pKeyFilter","int","formControlName","val3","maxlength","1",1,"w-3rem","text-center","text-color-secondary","surface-50","border-200",3,"keyup"],["pInputText","","id","integer3","pKeyFilter","int","formControlName","val4","maxlength","1",1,"w-3rem","text-center","text-color-secondary","surface-50","border-200",3,"keyup"],[1,"flex","flex-wrap","gap-2","justify-content-between"],["pButton","","pRipple","","label","Cancel",1,"flex-auto","p-button-outlined",3,"routerLink"],["pButton","","pRipple","","label","Verify","type","submit",1,"flex-auto"],[3,"minimal"]],template:function(n,i){1&n&&(s.TgZ(0,"div",0),s._UZ(1,"p-toast"),s.TgZ(2,"div",1)(3,"div",2)(4,"a",3),s.O4$(),s.TgZ(5,"svg",4),s._UZ(6,"ellipse",5)(7,"ellipse",6)(8,"path",7)(9,"path",8)(10,"path",9),s.TgZ(11,"g",10),s._UZ(12,"path",11)(13,"path",12)(14,"path",13)(15,"path",14)(16,"path",15)(17,"path",16)(18,"path",17)(19,"path",18)(20,"path",19),s.qZA()()(),s.kcU(),s.TgZ(21,"div",20)(22,"div",21),s._uU(23,"Verification"),s.qZA(),s.TgZ(24,"span",22),s._uU(25,"We have sent code to you email:"),s.qZA(),s.TgZ(26,"div",23),s._UZ(27,"i",24),s.TgZ(28,"span",25),s._uU(29),s.qZA()(),s.TgZ(30,"p-messages",26),s.NdJ("valueChange",function(a){return i.messages=a}),s.qZA()(),s.TgZ(31,"div",27)(32,"form",28),s.NdJ("ngSubmit",function(){return i.verifyEmail()}),s.TgZ(33,"div",29)(34,"input",30),s.NdJ("keyup",function(a){return i.onDigitInput(a)}),s.qZA(),s.TgZ(35,"input",31),s.NdJ("keyup",function(a){return i.onDigitInput(a)}),s.qZA(),s.TgZ(36,"input",32),s.NdJ("keyup",function(a){return i.onDigitInput(a)}),s.qZA(),s.TgZ(37,"input",33),s.NdJ("keyup",function(a){return i.onDigitInput(a)}),s.qZA()(),s.TgZ(38,"div",34),s._UZ(39,"button",35)(40,"button",36),s.qZA()()()()()(),s._UZ(41,"app-config",37)),2&n&&(s.xp6(4),s.Q6J("routerLink",s.DdM(8,O)),s.xp6(25),s.Oqu(i.email),s.xp6(1),s.Q6J("value",i.messages)("enableService",!1)("closable",!1),s.xp6(2),s.Q6J("formGroup",i.verifyForm),s.xp6(7),s.Q6J("routerLink",s.DdM(9,O)),s.xp6(2),s.Q6J("minimal",!0))},dependencies:[_.FN,v.V,g._Y,g.Fj,g.JJ,g.JL,g.nD,T.Hq,I.H,B.P,S.o,D,e.rH,g.sg,g.u]}),u})()}];let V=(()=>{var p;class u{}return(p=u).\u0275fac=function(n){return new(n||p)},p.\u0275mod=s.oAB({type:p}),p.\u0275inj=s.cJS({imports:[e.Bz.forChild(K),e.Bz]}),u})();var w=o(1567);let F=(()=>{var p;class u{}return(p=u).\u0275fac=function(n){return new(n||p)},p.\u0275mod=s.oAB({type:p}),p.\u0275inj=s.cJS({imports:[c.ez,_.EV,v.$,g.u5,T.hJ,I.T,w.h,S.j,J,V,g.UX]}),u})()},9502:(N,C,o)=>{o.d(C,{$:()=>i,V:()=>n});var c=o(6656),_=o(6825),v=o(6814),e=o(8926),Z=o(5219),g=o(2591),x=o(2736),s=o(3823),b=o(7778),M=o(8468),T=o(4480),I=o(4825);function B(t,a){if(1&t&&e._UZ(0,"span"),2&t){const l=e.oxw().$implicit;e.Tol("p-message-icon pi "+l.icon)}}function S(t,a){1&t&&e._UZ(0,"CheckIcon")}function h(t,a){1&t&&e._UZ(0,"InfoCircleIcon")}function y(t,a){1&t&&e._UZ(0,"TimesCircleIcon")}function k(t,a){1&t&&e._UZ(0,"ExclamationTriangleIcon")}function P(t,a){if(1&t&&(e.TgZ(0,"span",10),e.ynx(1),e.YNc(2,S,1,0,"CheckIcon",11),e.YNc(3,h,1,0,"InfoCircleIcon",11),e.YNc(4,y,1,0,"TimesCircleIcon",11),e.YNc(5,k,1,0,"ExclamationTriangleIcon",11),e.BQk(),e.qZA()),2&t){const l=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf","success"===l.severity),e.xp6(1),e.Q6J("ngIf","info"===l.severity),e.xp6(1),e.Q6J("ngIf","error"===l.severity),e.xp6(1),e.Q6J("ngIf","warn"===l.severity)}}function E(t,a){if(1&t&&e._UZ(0,"span",14),2&t){const l=e.oxw(2).$implicit;e.Q6J("innerHTML",l.summary,e.oJD)}}function A(t,a){if(1&t&&e._UZ(0,"span",15),2&t){const l=e.oxw(2).$implicit;e.Q6J("innerHTML",l.detail,e.oJD)}}function D(t,a){if(1&t&&(e.ynx(0),e.YNc(1,E,1,1,"span",12),e.YNc(2,A,1,1,"span",13),e.BQk()),2&t){const l=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",l.summary),e.xp6(1),e.Q6J("ngIf",l.detail)}}function J(t,a){if(1&t&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&t){const l=e.oxw(2).$implicit;e.xp6(1),e.Oqu(l.summary)}}function O(t,a){if(1&t&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&t){const l=e.oxw(2).$implicit;e.xp6(1),e.Oqu(l.detail)}}function U(t,a){if(1&t&&(e.YNc(0,J,2,1,"span",16),e.YNc(1,O,2,1,"span",17)),2&t){const l=e.oxw().$implicit;e.Q6J("ngIf",l.summary),e.xp6(1),e.Q6J("ngIf",l.detail)}}function K(t,a){if(1&t){const l=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(l);const m=e.oxw().index,f=e.oxw(2);return e.KtG(f.removeMessage(m))}),e._UZ(1,"TimesIcon",21),e.qZA()}2&t&&(e.xp6(1),e.Q6J("styleClass","p-message-close-icon"))}const V=function(t,a){return{showTransitionParams:t,hideTransitionParams:a}},w=function(t){return{value:"visible",params:t}};function F(t,a){if(1&t&&(e.TgZ(0,"div",4)(1,"div",5),e.YNc(2,B,1,2,"span",6),e.YNc(3,P,6,4,"span",7),e.YNc(4,D,3,2,"ng-container",1),e.YNc(5,U,2,2,"ng-template",null,8,e.W1O),e.YNc(7,K,2,1,"button",9),e.qZA()()),2&t){const l=a.$implicit,r=e.MAs(6),m=e.oxw(2);e.Tol("p-message p-message-"+l.severity),e.Q6J("@messageAnimation",e.VKq(11,w,e.WLB(8,V,m.showTransitionOptions,m.hideTransitionOptions))),e.xp6(2),e.Q6J("ngIf",l.icon),e.xp6(1),e.Q6J("ngIf",!l.icon),e.xp6(1),e.Q6J("ngIf",!m.escape)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",m.closable)}}function p(t,a){if(1&t&&(e.ynx(0),e.YNc(1,F,8,13,"div",3),e.BQk()),2&t){const l=e.oxw();e.xp6(1),e.Q6J("ngForOf",l.messages)}}function u(t,a){1&t&&e.GkF(0)}function d(t,a){if(1&t&&(e.TgZ(0,"div",22)(1,"div",5),e.YNc(2,u,1,0,"ng-container",23),e.qZA()()),2&t){const l=e.oxw();e.Q6J("ngClass","p-message p-message-"+l.severity),e.xp6(2),e.Q6J("ngTemplateOutlet",l.contentTemplate)}}let n=(()=>{var t;class a{set value(r){this.messages=r,this.startMessageLifes(this.messages)}constructor(r,m,f){(0,c.Z)(this,"messageService",void 0),(0,c.Z)(this,"el",void 0),(0,c.Z)(this,"cd",void 0),(0,c.Z)(this,"closable",!0),(0,c.Z)(this,"style",void 0),(0,c.Z)(this,"styleClass",void 0),(0,c.Z)(this,"enableService",!0),(0,c.Z)(this,"key",void 0),(0,c.Z)(this,"escape",!0),(0,c.Z)(this,"severity",void 0),(0,c.Z)(this,"showTransitionOptions","300ms ease-out"),(0,c.Z)(this,"hideTransitionOptions","200ms cubic-bezier(0.86, 0, 0.07, 1)"),(0,c.Z)(this,"valueChange",new e.vpe),(0,c.Z)(this,"templates",void 0),(0,c.Z)(this,"messages",void 0),(0,c.Z)(this,"messageSubscription",void 0),(0,c.Z)(this,"clearSubscription",void 0),(0,c.Z)(this,"timerSubscriptions",[]),(0,c.Z)(this,"contentTemplate",void 0),this.messageService=r,this.el=m,this.cd=f}ngAfterContentInit(){this.templates?.forEach(r=>{r.getType(),this.contentTemplate=r.template}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(r=>{if(r){Array.isArray(r)||(r=[r]);const m=r.filter(f=>this.key===f.key);this.messages=this.messages?[...this.messages,...m]:[...m],this.startMessageLifes(m),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(r=>{r?this.key===r&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let r=this.el.nativeElement.parentElement;return!(!r||!r.offsetParent)&&(null!=this.contentTemplate||this.messages&&this.messages.length>0)}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(r){this.messages=this.messages?.filter((m,f)=>f!==r),this.valueChange.emit(this.messages)}get icon(){const r=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(r){case"success":return"pi-check";case"info":default:return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle"}return null}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(r=>r.unsubscribe())}startMessageLifes(r){r?.forEach(m=>m.life&&this.startMessageLife(m))}startMessageLife(r){const m=(0,I.H)(r.life).subscribe(()=>{this.messages=this.messages?.filter(f=>f!==r),this.timerSubscriptions=this.timerSubscriptions?.filter(f=>f!==m),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(m)}}return t=a,(0,c.Z)(a,"\u0275fac",function(r){return new(r||t)(e.Y36(Z.ez,8),e.Y36(e.SBq),e.Y36(e.sBO))}),(0,c.Z)(a,"\u0275cmp",e.Xpm({type:t,selectors:[["p-messages"]],contentQueries:function(r,m,f){if(1&r&&e.Suo(f,Z.jx,4),2&r){let L;e.iGM(L=e.CRH())&&(m.templates=L)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:"closable",style:"style",styleClass:"styleClass",enableService:"enableService",key:"key",escape:"escape",severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange"},decls:4,vars:5,consts:[["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["staticMessage",""],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["escapeOut",""],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(r,m){if(1&r&&(e.TgZ(0,"div",0),e.YNc(1,p,2,1,"ng-container",1),e.YNc(2,d,3,2,"ng-template",null,2,e.W1O),e.qZA()),2&r){const f=e.MAs(3);e.Tol(m.styleClass),e.Q6J("ngStyle",m.style),e.xp6(1),e.Q6J("ngIf",!m.contentTemplate)("ngIfElse",f)}},dependencies:function(){return[v.mk,v.sg,v.O5,v.tP,v.PC,T.H,g.n,s.u,M.x,x.L,b.q]},styles:[".p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,_.X$)("messageAnimation",[(0,_.eR)(":enter",[(0,_.oB)({opacity:0,transform:"translateY(-25%)"}),(0,_.jt)("{{showTransitionParams}}")]),(0,_.eR)(":leave",[(0,_.jt)("{{hideTransitionParams}}",(0,_.oB)({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})),a})(),i=(()=>{var t;class a{}return t=a,(0,c.Z)(a,"\u0275fac",function(r){return new(r||t)}),(0,c.Z)(a,"\u0275mod",e.oAB({type:t})),(0,c.Z)(a,"\u0275inj",e.cJS({imports:[v.ez,T.T,g.n,s.u,M.x,x.L,b.q]})),a})()}}]);