"use strict";(self.webpackChunkSkeletonJWTAngular=self.webpackChunkSkeletonJWTAngular||[]).push([[8592],{9090:(B,f,i)=>{i.d(f,{a:()=>M});var s=i(3416),r=i(5219),e=i(8926),d=i(1831),l=i(4581),m=i(6814),o=i(707),c=i(4104),v=i(9502);function a(p,g){if(1&p&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&p){const h=e.oxw(2);e.xp6(1),e.hij(", ",h.address.addressLine2,"")}}function _(p,g){if(1&p&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&p){const h=e.oxw(2);e.xp6(1),e.hij(", ",h.address.addressLine3,"")}}function E(p,g){if(1&p){const h=e.EpF();e.TgZ(0,"div",1),e._UZ(1,"p-toast"),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p-messages",5),e.NdJ("valueChange",function(n){e.CHM(h);const u=e.oxw();return e.KtG(u.messages=n)}),e.qZA(),e.TgZ(7,"span",6),e._uU(8,"Installation address"),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.YNc(11,a,2,1,"span",8),e.YNc(12,_,2,1,"span",8),e._uU(13),e.qZA()(),e.TgZ(14,"div",9)(15,"p-button",10),e.NdJ("onClick",function(){e.CHM(h);const n=e.oxw();return e.KtG(n.payNow())}),e.qZA()()()()()()}if(2&p){const h=e.oxw();e.xp6(6),e.Q6J("value",h.messages)("enableService",!1)("closable",!1),e.xp6(4),e.hij(" ",h.address.addressLine1," "),e.xp6(1),e.Q6J("ngIf",h.address.addressLine2),e.xp6(1),e.Q6J("ngIf",h.address.addressLine3),e.xp6(1),e.AsE(" , ",null==h.address.province?null:h.address.province.provinceDescription," , ",h.address.postcode," "),e.xp6(2),e.Q6J("loading",h.loading)}}let M=(()=>{var p;class g extends s.k{constructor(t,n,u){super(t),this.messageService=t,this.httpHelperService=n,this.router=u,this.addressSelected=!1,this.address={},this.loading=!1,this.addpaytransactions={},localStorage.getItem("afri_address")&&(this.address=JSON.parse(localStorage.getItem("afri_address")),this.addressSelected=!0)}ngOnInit(){}populateAddress(t){this.addressSelected=t,localStorage.getItem("afri_address")&&(this.address=JSON.parse(localStorage.getItem("afri_address")))}payNow(){let t=JSON.parse(localStorage.getItem("order"));t.address=this.address,this.loading=!0,this.httpHelperService.post("/api/orderinfo/createtransaction",t).subscribe({next:n=>{this.addpaytransactions=n,window.location.href=this.addpaytransactions?.addPayPaymentLink,this.loading=!1},error:n=>{this.loading=!1,this.messages=n.message.includes("Unknown Error")?[{severity:"error",summary:"Error",detail:"Server is not responding. Please try again later."}]:[{severity:"error",summary:"Error",detail:n.error.error}],super.processError(n)},complete:()=>{console.log("complete"),this.loading=!1}})}}return(p=g).\u0275fac=function(t){return new(t||p)(e.Y36(r.ez),e.Y36(d.x),e.Y36(l.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-add-pay"]],features:[e._Bn([r.ez]),e.qOj],decls:1,vars:1,consts:[[0,"xmlns","p","http://www.w3.org/1999/html",4,"ngIf"],[0,"xmlns","p","http://www.w3.org/1999/html"],[1,"col-12"],[1,"surface-card","shadow-2","p-3"],[1,"flex","justify-content-between","mb-3"],[3,"value","enableService","closable","valueChange"],[1,"block","text-500","font-medium","mb-3"],[1,"text-900","font-medium"],[4,"ngIf"],[1,"flex","pt-3"],["label","Pay Now","icon","pi pi-credit-card","styleClass","p-button-outlined p-button-lg",3,"loading","onClick"]],template:function(t,n){1&t&&e.YNc(0,E,16,9,"div",0),2&t&&e.Q6J("ngIf",n.addressSelected)},dependencies:[m.O5,o.zx,c.FN,v.V]}),g})()},3901:(B,f,i)=>{i.d(f,{W:()=>m});var s=i(6814),r=i(707),e=i(4104),d=i(9502),l=i(8926);let m=(()=>{var o;class c{}return(o=c).\u0275fac=function(a){return new(a||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[s.ez,r.hJ,e.EV,d.$]}),c})()},4447:(B,f,i)=>{i.d(f,{f:()=>v});var s=i(6814),r=i(3965),e=i(6223),d=i(4104),l=i(3714),m=i(707),o=i(8057),c=i(8926);let v=(()=>{var a;class _{}return(a=_).\u0275fac=function(M){return new(M||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[s.ez,r.kW,e.UX,d.EV,l.j,m.hJ,o.nD,e.u5]}),_})()},4206:(B,f,i)=>{i.d(f,{H:()=>e});var s=i(8926),r=i(1831);let e=(()=>{var d;class l{constructor(o){this.httpHelperService=o}getDDCategories(){return this.httpHelperService.getWithNoParmNoSecurity("/api/public/categories")}}return(d=l).\u0275fac=function(o){return new(o||d)(s.LFG(r.x))},d.\u0275prov=s.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),l})()},4638:(B,f,i)=>{i.d(f,{J:()=>e});var s=i(8926),r=i(1831);let e=(()=>{var d;class l{constructor(o){this.httpHelperService=o}getDDCompanies(o){return this.httpHelperService.get("/api/admin/company",0,20,"undefined",1,o+="%")}}return(d=l).\u0275fac=function(o){return new(o||d)(s.LFG(r.x))},d.\u0275prov=s.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),l})()},6218:(B,f,i)=>{i.d(f,{A:()=>m,g:()=>l});var s=i(6656),r=i(8926),e=i(6814),d=i(6223);let l=(()=>{var o;class c{constructor(a,_,E,M){(0,s.Z)(this,"el",void 0),(0,s.Z)(this,"ngModel",void 0),(0,s.Z)(this,"control",void 0),(0,s.Z)(this,"cd",void 0),(0,s.Z)(this,"autoResize",void 0),(0,s.Z)(this,"onResize",new r.vpe),(0,s.Z)(this,"filled",void 0),(0,s.Z)(this,"cachedScrollHeight",void 0),(0,s.Z)(this,"ngModelSubscription",void 0),(0,s.Z)(this,"ngControlSubscription",void 0),this.el=a,this.ngModel=_,this.control=E,this.cd=M}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(a){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(a){this.autoResize&&this.resize(a)}onBlur(a){this.autoResize&&this.resize(a)}resize(a){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(a||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return o=c,(0,s.Z)(c,"\u0275fac",function(a){return new(a||o)(r.Y36(r.SBq),r.Y36(d.On,8),r.Y36(d.a5,8),r.Y36(r.sBO))}),(0,s.Z)(c,"\u0275dir",r.lG2({type:o,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(a,_){1&a&&r.NdJ("input",function(M){return _.onInput(M)})("focus",function(M){return _.onFocus(M)})("blur",function(M){return _.onBlur(M)}),2&a&&r.ekj("p-filled",_.filled)("p-inputtextarea-resizable",_.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})),c})(),m=(()=>{var o;class c{}return o=c,(0,s.Z)(c,"\u0275fac",function(a){return new(a||o)}),(0,s.Z)(c,"\u0275mod",r.oAB({type:o})),(0,s.Z)(c,"\u0275inj",r.cJS({imports:[e.ez]})),c})()},7338:(B,f,i)=>{i.d(f,{P:()=>E,_:()=>M});var s=i(6656),r=i(6814),e=i(8926),d=i(5219),l=i(2076);const m=["container"],o=["content"],c=["xBar"],v=["yBar"];function a(p,g){1&p&&e.GkF(0)}const _=["*"];let E=(()=>{var p;class g{constructor(t,n,u,y,C,P){(0,s.Z)(this,"platformId",void 0),(0,s.Z)(this,"el",void 0),(0,s.Z)(this,"zone",void 0),(0,s.Z)(this,"cd",void 0),(0,s.Z)(this,"document",void 0),(0,s.Z)(this,"renderer",void 0),(0,s.Z)(this,"style",void 0),(0,s.Z)(this,"styleClass",void 0),(0,s.Z)(this,"containerViewChild",void 0),(0,s.Z)(this,"contentViewChild",void 0),(0,s.Z)(this,"xBarViewChild",void 0),(0,s.Z)(this,"yBarViewChild",void 0),(0,s.Z)(this,"templates",void 0),(0,s.Z)(this,"scrollYRatio",void 0),(0,s.Z)(this,"scrollXRatio",void 0),(0,s.Z)(this,"timeoutFrame",D=>setTimeout(D,0)),(0,s.Z)(this,"initialized",!1),(0,s.Z)(this,"lastPageY",void 0),(0,s.Z)(this,"lastPageX",void 0),(0,s.Z)(this,"isXBarClicked",!1),(0,s.Z)(this,"isYBarClicked",!1),(0,s.Z)(this,"contentTemplate",void 0),(0,s.Z)(this,"windowResizeListener",void 0),(0,s.Z)(this,"contentScrollListener",void 0),(0,s.Z)(this,"mouseEnterListener",void 0),(0,s.Z)(this,"xBarMouseDownListener",void 0),(0,s.Z)(this,"yBarMouseDownListener",void 0),(0,s.Z)(this,"documentMouseMoveListener",void 0),(0,s.Z)(this,"documentMouseUpListener",void 0),this.platformId=t,this.el=n,this.zone=u,this.cd=y,this.document=C,this.renderer=P}ngAfterViewInit(){(0,r.NF)(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.contentTemplate=t.template})}calculateContainerHeight(){let t=this.containerViewChild.nativeElement,n=this.contentViewChild.nativeElement,u=this.xBarViewChild.nativeElement;const y=this.document.defaultView;let C=y.getComputedStyle(t),P=y.getComputedStyle(u),D=l.p.getHeight(t)-parseInt(P.height,10);"none"!=C["max-height"]&&0==D&&(t.style.height=n.offsetHeight+parseInt(P.height,10)>parseInt(C["max-height"],10)?C["max-height"]:n.offsetHeight+parseFloat(C.paddingTop)+parseFloat(C.paddingBottom)+parseFloat(C.borderTopWidth)+parseFloat(C.borderBottomWidth)+"px")}moveBar(){let t=this.containerViewChild.nativeElement,n=this.contentViewChild.nativeElement,u=this.xBarViewChild.nativeElement,y=n.scrollWidth,C=n.clientWidth,P=-1*(t.clientHeight-u.clientHeight);this.scrollXRatio=C/y;let D=this.yBarViewChild.nativeElement,x=n.scrollHeight,O=n.clientHeight,b=-1*(t.clientWidth-D.clientWidth);this.scrollYRatio=O/x,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)l.p.addClass(u,"p-scrollpanel-hidden");else{l.p.removeClass(u,"p-scrollpanel-hidden");const w=Math.max(100*this.scrollXRatio,10);u.style.cssText="width:"+w+"%; left:"+n.scrollLeft*(100-w)/(y-C)+"%;bottom:"+P+"px;"}if(this.scrollYRatio>=1)l.p.addClass(D,"p-scrollpanel-hidden");else{l.p.removeClass(D,"p-scrollpanel-hidden");const w=Math.max(100*this.scrollYRatio,10);D.style.cssText="height:"+w+"%; top: calc("+n.scrollTop*(100-w)/(x-O)+"% - "+u.clientHeight+"px);right:"+b+"px;"}}),this.cd.markForCheck()}onYBarMouseDown(t){this.isYBarClicked=!0,this.lastPageY=t.pageY,l.p.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),l.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),t.preventDefault()}bindDocumentMouseListeners(){this.documentMouseMoveListener=this.renderer.listen(this.document,"mousemove",this.onDocumentMouseMove.bind(this)),this.documentMouseUpListener=this.renderer.listen(this.document,"mouseup",this.onDocumentMouseUp.bind(this))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.documentMouseMoveListener(),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(this.documentMouseUpListener(),this.documentMouseUpListener=null)}onXBarMouseDown(t){this.isXBarClicked=!0,this.lastPageX=t.pageX,l.p.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),l.p.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),t.preventDefault()}onDocumentMouseMove(t){this.isXBarClicked?this.onMouseMoveForXBar(t):(this.isYBarClicked||this.onMouseMoveForXBar(t),this.onMouseMoveForYBar(t))}onMouseMoveForXBar(t){let n=t.pageX-this.lastPageX;this.lastPageX=t.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=n/this.scrollXRatio})}onMouseMoveForYBar(t){let n=t.pageY-this.lastPageY;this.lastPageY=t.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=n/this.scrollYRatio})}scrollTop(t){let n=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;this.contentViewChild.nativeElement.scrollTop=t=t>n?n:t>0?t:0}onDocumentMouseUp(t){l.p.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),l.p.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),l.p.removeClass(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(t){(window.requestAnimationFrame||this.timeoutFrame)(t)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}}return p=g,(0,s.Z)(g,"\u0275fac",function(t){return new(t||p)(e.Y36(e.Lbi),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(r.K0),e.Y36(e.Qsj))}),(0,s.Z)(g,"\u0275cmp",e.Xpm({type:p,selectors:[["p-scrollPanel"]],contentQueries:function(t,n,u){if(1&t&&e.Suo(u,d.jx,4),2&t){let y;e.iGM(y=e.CRH())&&(n.templates=y)}},viewQuery:function(t,n){if(1&t&&(e.Gf(m,5),e.Gf(o,5),e.Gf(c,5),e.Gf(v,5)),2&t){let u;e.iGM(u=e.CRH())&&(n.containerViewChild=u.first),e.iGM(u=e.CRH())&&(n.contentViewChild=u.first),e.iGM(u=e.CRH())&&(n.xBarViewChild=u.first),e.iGM(u=e.CRH())&&(n.yBarViewChild=u.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:_,decls:11,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content"],["content",""],[4,"ngTemplateOutlet"],[1,"p-scrollpanel-bar","p-scrollpanel-bar-x"],["xBar",""],[1,"p-scrollpanel-bar","p-scrollpanel-bar-y"],["yBar",""]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3,4),e.Hsn(5),e.YNc(6,a,1,0,"ng-container",5),e.qZA()(),e._UZ(7,"div",6,7)(9,"div",8,9),e.qZA()),2&t&&(e.Tol(n.styleClass),e.Q6J("ngClass","p-scrollpanel p-component")("ngStyle",n.style),e.xp6(6),e.Q6J("ngTemplateOutlet",n.contentTemplate))},dependencies:[r.mk,r.tP,r.PC],styles:[".p-scrollpanel-wrapper{overflow:hidden;width:100%;height:100%;position:relative;float:left}.p-scrollpanel-content{height:calc(100% + 18px);width:calc(100% + 18px);padding:0 18px 18px 0;position:relative;overflow:auto;box-sizing:border-box}.p-scrollpanel-bar{position:relative;background:#c1c1c1;border-radius:3px;cursor:pointer;opacity:0;transition:opacity .25s linear}.p-scrollpanel-bar-y{width:9px;top:0}.p-scrollpanel-bar-x{height:9px;bottom:0}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:hover .p-scrollpanel-bar,.p-scrollpanel:active .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-webkit-user-select:none;user-select:none}\n"],encapsulation:2,changeDetection:0})),g})(),M=(()=>{var p;class g{}return p=g,(0,s.Z)(g,"\u0275fac",function(t){return new(t||p)}),(0,s.Z)(g,"\u0275mod",e.oAB({type:p})),(0,s.Z)(g,"\u0275inj",e.cJS({imports:[r.ez]})),g})()},5861:(B,f,i)=>{function s(e,d,l,m,o,c,v){try{var a=e[c](v),_=a.value}catch(E){return void l(E)}a.done?d(_):Promise.resolve(_).then(m,o)}function r(e){return function(){var d=this,l=arguments;return new Promise(function(m,o){var c=e.apply(d,l);function v(_){s(c,m,o,v,a,"next",_)}function a(_){s(c,m,o,v,a,"throw",_)}v(void 0)})}}i.d(f,{Z:()=>r})}}]);