"use strict";(self.webpackChunkSkeletonJWTAngular=self.webpackChunkSkeletonJWTAngular||[]).push([[1981],{1981:(B,u,s)=>{s.r(u),s.d(u,{PackageModule:()=>$});var c=s(6814),g=s(4581),P=s(3416),m=s(5219),e=s(8926),x=s(1831),A=s(4638),d=s(9232),_=s(707),f=s(3714),h=s(1312),r=s(6223),C=s(3259),T=s(4104),b=s(4480),Z=s(5167),M=s(7327);function D(n,p){if(1&n){const l=e.EpF();e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.TgZ(3,"input",27),e.NdJ("input",function(t){e.CHM(l),e.oxw();const a=e.MAs(7);return e.KtG(a.filterGlobal(t.target,"contains"))}),e.qZA()()()}}function N(n,p){if(1&n){const l=e.EpF();e.TgZ(0,"div",24)(1,"p-button",28),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.openNew())}),e.qZA(),e.TgZ(2,"p-button",29),e.NdJ("click",function(){e.CHM(l);const t=e.oxw(),a=e.MAs(7);return e.KtG(t.clear(a))}),e.qZA(),e.TgZ(3,"p-button",30),e.NdJ("onClick",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.exportToExcel())}),e.qZA(),e.TgZ(4,"span",25),e._UZ(5,"i",26),e.TgZ(6,"input",27),e.NdJ("input",function(t){e.CHM(l),e.oxw();const a=e.MAs(7);return e.KtG(a.filterGlobal(t.target,"contains"))}),e.qZA()()()}}function J(n,p){1&n&&(e.TgZ(0,"tr")(1,"th",31),e._uU(2,"Company "),e._UZ(3,"p-sortIcon",32),e.qZA(),e.TgZ(4,"th",33),e._uU(5,"Description "),e._UZ(6,"p-sortIcon",34),e.qZA(),e.TgZ(7,"th",35),e._uU(8,"Price "),e._UZ(9,"p-sortIcon",36),e.qZA(),e._UZ(10,"th",37),e.qZA())}function F(n,p){if(1&n){const l=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"td")(9,"div",24)(10,"p-button",38),e.NdJ("onClick",function(){const a=e.CHM(l).$implicit,i=e.oxw();return e.KtG(i.edit(a))}),e.qZA(),e.TgZ(11,"p-button",39),e.NdJ("onClick",function(){const a=e.CHM(l).$implicit,i=e.oxw();return e.KtG(i.delete(a))}),e.qZA()()()()}if(2&n){const l=p.$implicit;e.xp6(2),e.Oqu(l.company.companyName),e.xp6(2),e.Oqu(l.description),e.xp6(2),e.Oqu(e.Dn7(7,3,l.price,"USD",""))}}function w(n,p){1&n&&(e.TgZ(0,"small",40),e._uU(1,"Company is required."),e.qZA())}function U(n,p){1&n&&(e.TgZ(0,"small",40),e._uU(1,"Description is required."),e.qZA())}function q(n,p){1&n&&(e.TgZ(0,"small",40),e._uU(1,"Price is required."),e.qZA())}function S(n,p){if(1&n){const l=e.EpF();e.TgZ(0,"p-button",41),e.NdJ("onClick",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.hideDialog())}),e.qZA(),e.TgZ(1,"p-button",42),e.NdJ("onClick",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.save())}),e.qZA()}}function R(n,p){1&n&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete?"),e.qZA())}function E(n,p){if(1&n){const l=e.EpF();e.TgZ(0,"p-button",43),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.confirmDialog=!1)}),e.qZA(),e.TgZ(1,"p-button",44),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.confirmDelete())}),e.qZA()}}const H=function(){return{"min-width":"50rem"}},O=function(){return["description"]},Y=function(){return[5,10,25,50]},k=function(){return{width:"450px"}},z=function(){return{"960px":"75vw","640px":"98vw"}},v=function(n){return{"ng-invalid ng-dirty":n}},K=[{path:"",component:(()=>{var n;class p extends P.k{constructor(o,t,a,i){super(t),this.httpHelperService=o,this.messageService=t,this.router=a,this.companyService=i,this.modelList=[],this.totalRecords=0,this.today=new Date,this.selectedModel={},this.submitted=!1,this.loading=!1,this.showDialog=!1,this.confirmDialog=!1,this.sortField=null,this.sortOrder=1,this.ddcompany=[]}clear(o){o.globalFilter=null,this.loadData(o)}loadData(o){this.loading=!0;let t="%";o&&null!=o.globalFilter&&""!=o.globalFilter.value&&(t=o.globalFilter.value);const a=o.first/o.rows;!o.sortField&&this.sortField?(o.sortField=this.sortField,o.sortOrder=this.sortOrder):o.sortField&&(this.sortField=o.sortField,this.sortOrder=o.sortOrder),this.httpHelperService.get("/api/sas/package",a,o.rows,o.sortField,o.sortOrder,t).subscribe({next:i=>{this.modelList=i,this.totalRecords=this.modelList[0].totalRecords},error:i=>{this.loading=!1,super.processError(i)},complete:()=>{this.loading=!1}})}save(){this.submitted=!0,this.httpHelperService.save("/api/sas/package",String(this.selectedModel.id),this.selectedModel).subscribe({next:o=>{},error:o=>{this.submitted=!1,super.processError(o)},complete:()=>{this.submitted=!1,this.showDialog=!1,super.showSuccess("Update/Add successfull"),this.clear({first:0,rows:5,sortOrder:1})}})}delete(o){this.confirmDialog=!0,this.selectedModel={...o}}confirmDelete(){this.httpHelperService.delete("/api/admin/package",String(this.selectedModel.id)).subscribe({next:o=>{},error:o=>{console.log(o),super.processError(o)},complete:()=>{this.confirmDialog=!1,this.selectedModel={},super.showSuccess("Update/Add successfull"),this.clear({first:0,rows:5,sortOrder:1})}})}openNew(){this.selectedModel={},this.showDialog=!0}hideDialog(){this.showDialog=!1,this.submitted=!1}edit(o){this.selectedModel={...o},this.showDialog=!0}exportToExcel(){super.exportExcel(this.modelList)}filterModelDD(o){this.companyService.getDDCompanies(o.query).subscribe({next:t=>{this.ddcompany=t},error:t=>{this.loading=!1,super.showError(t.message)},complete:()=>{this.loading=!1}})}}return(n=p).\u0275fac=function(o){return new(o||n)(e.Y36(x.x),e.Y36(m.ez),e.Y36(g.F0),e.Y36(A.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-package"]],features:[e._Bn([m.ez]),e.qOj],decls:35,vars:43,consts:[[1,"grid"],[1,"col-12","lg:col-12"],[1,"card"],["dataKey","id","selectionMode","single","styleClass","p-datatable-sm","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","lazy","tableStyle","paginator","rows","totalRecords","loading","globalFilterFields","selection","showCurrentPageReport","rowsPerPageOptions","onLazyLoad","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Add/Update","position","center",1,"p-fluid",3,"visible","modal","breakpoints","visibleChange"],[1,"formgrid","grid"],[1,"field","col-12"],["for","company"],["id","company","field","companyName","appendTo","body",3,"ngModel","dropdown","suggestions","ngModelChange","completeMethod"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","description"],["type","text","pInputText","","id","description","required","",3,"ngModel","ngClass","ngModelChange"],[1,"field","col-5","col-offset-7","md:col-3","md:col-offset-9"],["for","price"],["inputId","price","mode","decimal",3,"minFractionDigits","maxFractionDigits","ngModel","ngClass","ngModelChange"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pRipple","","label","Add","icon","pi pi-plus","styleClass","p-button-outlined",1,"pr-2",3,"click"],["label","Clear","styleClass","p-button-outlined","icon","pi pi-filter-slash",1,"pr-2",3,"click"],["label","Export","pRipple","","icon","pi pi-file-excel","styleClass","p-button-outlined mr-2","pTooltip","Export to Excel","tooltipPosition","bottom",3,"onClick"],["pSortableColumn","company"],["field","company"],["pSortableColumn","description"],["field","description"],["pSortableColumn","price"],["field","price"],[2,"width","100px"],["pRipple","","icon","pi pi-pencil","styleClass","p-button-rounded p-button-success p-button-outlined mr-2","tooltipPosition","left","pTooltip","Update",3,"onClick"],["pRipple","","icon","pi pi-trash","styleClass","p-button-rounded p-button-outlined p-button-danger","tooltipPosition","left","pTooltip","Delete",3,"onClick"],[1,"ng-dirty","ng-invalid"],["pRipple","","label","Cancel","icon","pi pi-times","styleClass","p-button-link",3,"onClick"],["pRipple","","label","Save","icon","pi pi-check","styleClass","p-button-link",3,"onClick"],["pRipple","","icon","pi pi-times","styleClass","p-button-text","label","No",3,"click"],["pRipple","","icon","pi pi-check","styleClass","p-button-text","label","Yes",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),e._uU(4,"Package"),e.qZA(),e._UZ(5,"p-toast"),e.TgZ(6,"p-table",3,4),e.NdJ("onLazyLoad",function(i){return t.loadData(i)})("selectionChange",function(i){return t.selectedModel=i}),e.YNc(8,D,4,0,"ng-template",5),e.YNc(9,N,7,0,"ng-template",5),e.YNc(10,J,11,0,"ng-template",6),e.YNc(11,F,12,7,"ng-template",7),e.qZA()()()(),e.TgZ(12,"p-dialog",8),e.NdJ("visibleChange",function(i){return t.showDialog=i}),e.TgZ(13,"div",9)(14,"div",10)(15,"label",11),e._uU(16,"Company"),e.qZA(),e.TgZ(17,"p-autoComplete",12),e.NdJ("ngModelChange",function(i){return t.selectedModel.company=i})("completeMethod",function(i){return t.filterModelDD(i)}),e.qZA(),e.YNc(18,w,2,0,"small",13),e.qZA(),e.TgZ(19,"div",10)(20,"label",14),e._uU(21,"Description"),e.qZA(),e.TgZ(22,"input",15),e.NdJ("ngModelChange",function(i){return t.selectedModel.description=i}),e.qZA(),e.YNc(23,U,2,0,"small",13),e.qZA(),e.TgZ(24,"div",16)(25,"label",17),e._uU(26,"Price"),e.qZA(),e.TgZ(27,"p-inputNumber",18),e.NdJ("ngModelChange",function(i){return t.selectedModel.price=i}),e.qZA(),e.YNc(28,q,2,0,"small",13),e.qZA()(),e.YNc(29,S,2,0,"ng-template",19),e.qZA(),e.TgZ(30,"p-dialog",20),e.NdJ("visibleChange",function(i){return t.confirmDialog=i}),e.TgZ(31,"div",21),e._UZ(32,"i",22),e.YNc(33,R,2,0,"span",23),e.qZA(),e.YNc(34,E,2,0,"ng-template",19),e.qZA()),2&o&&(e.xp6(6),e.Q6J("value",t.modelList)("lazy",!0)("tableStyle",e.DdM(33,H))("paginator",!0)("rows",5)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",e.DdM(34,O))("selection",t.selectedModel)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(35,Y)),e.xp6(6),e.Akn(e.DdM(36,k)),e.Q6J("visible",t.showDialog)("modal",!0)("breakpoints",e.DdM(37,z)),e.xp6(5),e.Q6J("ngModel",t.selectedModel.company)("dropdown",!0)("suggestions",t.ddcompany),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.selectedModel.company),e.xp6(4),e.Q6J("ngModel",t.selectedModel.description)("ngClass",e.VKq(38,v,t.submitted&&!t.selectedModel.description)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.selectedModel.description),e.xp6(4),e.Q6J("minFractionDigits",2)("maxFractionDigits",5)("ngModel",t.selectedModel.price)("ngClass",e.VKq(40,v,t.submitted&&!t.selectedModel.price)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.selectedModel.price),e.xp6(2),e.Akn(e.DdM(42,k)),e.Q6J("visible",t.confirmDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",t.selectedModel))},dependencies:[d.iA,m.jx,d.lQ,d.fz,_.zx,f.o,h.V,r.Fj,r.JJ,r.Q7,r.On,C.u,T.FN,b.H,Z.Rn,c.mk,c.O5,M.Qc,c.H9],styles:[".table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),p})()}];let G=(()=>{var n;class p{}return(n=p).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(K),g.Bz]}),p})();var y=s(9502),L=s(6760),Q=s(218),I=s(8057),j=s(3965);let $=(()=>{var n;class p{}return(n=p).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.U$,_.hJ,f.j,h.S,y.$,y.$,r.u5,L._8,C.z,T.EV,b.T,Q.E,Z.L$,I.nD,j.kW,c.ez,G,M.WN]}),p})()}}]);